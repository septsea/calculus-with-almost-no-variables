\chapter{连续函数}

本章简单地提及连续函数及其简单的性质; 这也是研究导数的基础.

若无特别说明, 本章的函数的定义域与陪域都是 $\mathbb{R}$ 的子集.

\section{连续的定义}

\begin{definition}
    设 $x \in \mathbb{R}$. 设 $\delta$ 为正数. 则 $N[x; \delta] = (x - \delta, x + \delta)$ 是 $x$ 的一个\emph{邻域}. 称 $N[x; \delta] \setminus \{ x \} = (x - \delta, x) \cup (x, x + \delta)$ 是 $x$ 的一个\emph{去心邻域}.
\end{definition}

不难看出, $N[x; \delta]$ 就是 $\{ t \mid |t - x| < \delta \}$, 而 $N[x; \delta] \setminus \{ x \}$ 就是 $\{ t \mid 0 < |t - x| < \delta \}$.

下面的不等式十分有用.

\begin{theorem}
    对任意实数 $x$, $y$, 有
    \begin{align*}
        |x + y| \leq |x| + |y|.
    \end{align*}
    所以, 对任意实数 $a$, $b$, $c$,
    \begin{align*}
        |a - c| = |(a - b) + (b - c)| \leq |a - b| + |b - c|.
    \end{align*}
\end{theorem}

\begin{proof}
    注意到, 一个实数的绝对值不低于自身; 再注意到, 比较二个非负数的大小, 相当于比较它们的平方的大小. 所以
    \begin{align*}
         & {(|x| + |y|)^2 - |x + y|^2 = 2(|xy| - xy) \geq 0.} \qedhere
    \end{align*}
\end{proof}

\begin{definition}
    设 $f$ 是 $A$ 上的函数. 设 $x \in A$. 若任给正数 $\varepsilon$, 存在正数 $\delta$ 使 $f[A \cap N[x; \delta]] \subset N[f[x]; \varepsilon]$, 则说 $f$ 于 $x$ \emph{连续}.
\end{definition}

不难看出, $f$ 于 $x$ 连续的一个必要与充分条件是: 任给正数 $\varepsilon$, 存在正数 $\delta$ 使 $|t - x| < \delta$ 且 $t \in A$ 时, 必有 $|f[t] - f[x]| < \varepsilon$.

\begin{theorem}
    设 $f$, $g$ 是 $A$ 上的函数. 设 $x \in A$. 设 $f$, $g$ 都于 $x$ 连续. 设 $\ast$ 是三文字 $+$, $-$, $\cdot$ 的任意一个. 则 $f \ast g$ 也于 $x$ 连续.
\end{theorem}

\begin{proof}
    以 $\ast$ 为 $+$ 或 $-$ 时为例. 任取 $\varepsilon > 0$. 这样, 因为 $f$ 于 $x$ 连续, 故存在正数 $\delta_1$ 使
    \begin{align*}
        \text{$|t - x| < \delta_1$ 且 $t \in A$} \implies |f[t] - f[x]| < \frac{\varepsilon}{2}.
    \end{align*}
    因为 $g$ 于 $x$ 连续, 故存在正数 $\delta_2$ 使
    \begin{align*}
        \text{$|t - x| < \delta_2$ 且 $t \in A$} \implies |g[t] - g[x]| < \frac{\varepsilon}{2}.
    \end{align*}
    取 $\delta$ 为 $\delta_1$, $\delta_2$ 的较小者. 这样, $|t - x| < \delta$ 且 $t \in A$ 时,
    \begin{align*}
        {|(f \ast g)[t] - (f \ast g)[x]|}
        = {}    & {|(f[t] \ast g[t]) - (f[x] \ast g[x])|}       \\
        = {}    & {|(f[t] - f[x]) \ast (g[t] - g[x])|}          \\
        \leq {} & {|f[t] - f[x]| + |g[t] - g[x]|}               \\
        < {}    & \frac{\varepsilon}{2} + \frac{\varepsilon}{2}
        = \varepsilon.
    \end{align*}

    $\ast$ 为 $\cdot$ 时就稍繁一些. 不过, 不要恐慌. 注意到
    \begin{align*}
             & (fg)[t] - (fg)[x]                                   \\
        = {} & f[t]g[t] - f[x]g[x]                                 \\
        = {} & (f[t] - f[x] + f[x])g[t] + f[x](g[t] - g[x] + g[t]) \\
        = {} & (f[t] - f[x])g[t] + f[x](g[t] - g[x]).
    \end{align*}
    所以, 我们想办法, 使 $(f[t] - f[x])g[t]$ 跟 $f[x](g[t] - g[x])$ 的绝对值都不超过 $\frac{\varepsilon}{2}$ 就好. 首先, 存在正数 $\delta_3$ 使
    \begin{align*}
        \text{$|t - x| < \delta_3$ 且 $t \in A$} \implies |g[t] - g[x]| < \frac{\varepsilon}{2(1 + |f[x]|)}.
    \end{align*}
    其次, 存在正数 $\delta_4$ 使
    \begin{align*}
        \text{$|t - x| < \delta_4$ 且 $t \in A$} \implies |g[t] - g[x]| < 1.
    \end{align*}
    由此可知, $|t - x| < \delta_4$ 且 $t \in A$ 时,
    \begin{align*}
        |g[t]| = |g[x] + (g[t] - g[x])| < |g[x]| + 1.
    \end{align*}
    最后, 存在正数 $\delta_5$ 使
    \begin{align*}
        \text{$|t - x| < \delta_5$ 且 $t \in A$} \implies |f[t] - f[x]| < \frac{\varepsilon}{2(1 + |g[x]|)}.
    \end{align*}
    取 $\delta$ 为 $\delta_3$, $\delta_4$, $\delta_5$ 的最小者. 这样, $|t - x| < \delta$ 且 $t \in A$ 时,
    \begin{align*}
                & |(fg)[t] - (fg)[x]|                                                                                   \\
        = {}    & |(f[t] - f[x])g[t] + f[x](g[t] - g[x])|                                                               \\
        \leq {} & |f[t] - f[x]| \cdot |g[t]| + |f[x]| \cdot |g[t] - g[x]|                                               \\
        < {}    & \frac{\varepsilon}{2(1 + |g[x]|)} \cdot (|g[x]| + 1) + |f[x]| \cdot \frac{\varepsilon}{2(1 + |f[x]|)} \\
        < {}    & \frac{\varepsilon}{2} + \frac{\varepsilon}{2} = \varepsilon. \qedhere
    \end{align*}
\end{proof}

\begin{theorem}
    设 $f$ 是 $A$ 上的函数. 设 $x \in A$. 设 $f$ 于 $x$ 连续. 若 $f[x] \neq 0$, 则 $f^{-1}$ 于 $x$ 连续.
\end{theorem}

\begin{proof}
    任取 $\varepsilon > 0$. 注意到
    \begin{align*}
        f^{-1} [t] - f^{-1} [x] = -\frac{f[t] - f[x]}{f[t] f[x]}.
    \end{align*}
    所以, 我们想办法证明 $|f[t] f[x]|$ 比某个正数大. 这不难. 毕竟, 既然 $f[x] \neq 0$, 那么 $|f[x]|$ 当然是正数. 所以, 存在正数 $\delta_1$ 使
    \begin{align*}
        \text{$|t - x| < \delta_1$ 且 $t \in A$} \implies |f[t] - f[x]| < \frac{|f[x]|}{2}.
    \end{align*}
    从而
    \begin{align*}
        |f[x]| = |f[t] - (f[t] - f[x])| \leq |f[t]| + |f[t] - f[x]| < |f[t]| + \frac{|f[x]|}{2},
    \end{align*}
    也就是
    \begin{align*}
        |f[t]| > |f[x]| - \frac{|f[x]|}{2} = \frac{|f[x]|}{2}.
    \end{align*}
    所以, $|t - x| < \delta_1$ 且 $t \in A$ 时,
    \begin{align*}
        |f[t] f[x]| > \frac{1}{2} |f[x]|^2.
    \end{align*}
    接下来想办法使 $|f[t] - f[x]| < \frac{2}{|f[x]|^2} \varepsilon$ 即可. 我十分信任您; 您一定可以写出此事的论证的, 对吧?
\end{proof}

\begin{remark}
    一般地, 设 $f$ 是 $A$ 上的函数, $x \in A$, 且 $f$ 于 $x$ 连续. 若 $f[x] \neq 0$, 则存在 $x$ 的邻域 $N[x; \delta]$ 使 $t \in A \cap N[x; \delta]$ 时必有
    \begin{align*}
        \frac{1}{2} < \frac{f[t]}{f[x]} < \frac{3}{2}.
    \end{align*}
    取 $\varepsilon = |f[x]|/2$; 然后,
    \begin{align*}
        \Bigg| \frac{f[t]}{f[x]} - 1 \Bigg| = \frac{|f[t] - f[x]|}{|f[x]|} < \frac{1}{2}.
    \end{align*}
    我邀请您补全细节; 注意到 $|a - b| < c$ 相当于 $a - c < b < a + c$.
\end{remark}

\begin{theorem}
    设 $f$, $g$ 是 $A$ 上的函数. 设 $x \in A$. 设 $f$, $g$ 都于 $x$ 连续. 设 $f[x] \neq 0$. 则 $g/f$ 也于 $x$ 连续.
\end{theorem}

\begin{proof}
    注意到 $g/f = g \cdot f^{-1}$.
\end{proof}

\begin{theorem}
    设 $f$: $A \to B$, $g$: $B \to C$. 若 $f$ 于 $x$ 连续, 且 $g$ 于 $f[x]$ 连续, 则 $g \circ f$: $A \to C$ 于 $x$ 连续.
\end{theorem}

\begin{proof}
    任取正数 $\varepsilon$. 那么, 存在正数 $\delta^{\prime}$ 使
    \begin{align*}
        \text{$|v - f[x]| < \delta^{\prime}$ 且 $v \in B$} \implies |g[v] - g[f[x]]| < \varepsilon.
    \end{align*}
    也存在正数 $\delta$ 使
    \begin{align*}
        \text{$|t - x| < \delta$ 且 $t \in A$} \implies |f[t] - f[x]| < \delta^{\prime}.
    \end{align*}
    显然 $f[t] \in B$. 所以, $|t - x| < \delta$ 且 $t \in A$ 时,
    \begin{align*}
         & {|(g \circ f)[t] - (g \circ f)[x]| = |g[f[t]] - g[f[x]]| < \varepsilon.} \qedhere
    \end{align*}
\end{proof}

\section{连续函数}

我们已经知道函数于一点连续的意思. 不过, 什么是连续函数呢?

\begin{definition}
    设 $f$ 是 $A$ 上的函数. 若 $f$ 于 $A$ 的每一点都连续, 则 $f$ 是 ($A$ 上的) \emph{连续函数}.
\end{definition}

\begin{remark}
    显然, 若 $B \subset A$, 那么 $f$ 在 $B$ 上的限制 $f_B$ 也是连续函数.
\end{remark}

利用上节的结论, 我们有下面的二个结论; 我相信您可以迅速地论证它们, 所以我就不证了.

\begin{theorem}
    设 $f$, $g$ 都是 $A$ 上的连续函数. 则:
    \begin{enumerate}
        \item $f \ast g$ 是连续函数, 这里 $\ast$ 是三文字 $+$, $-$, $\cdot$ 的任意一个.
        \item 若 $f$ 不取零值 (也就是说, $f$ 无根), 则 $g/f$ 是连续函数.
    \end{enumerate}
\end{theorem}

\begin{theorem}
    设 $f$: $A \to B$, $g$: $B \to C$ 都是连续函数. 则 $g \circ f$: $A \to C$ 也是连续函数.
\end{theorem}

\begin{example}
    常函数 $c$: $\mathbb{R} \to \{ c \}$ 是连续函数.

    任取一点 $x$. 注意到, 对任意非空集 $T \subset \mathbb{R}$, $c[T] = \{ c \}$. 所以, 任取正数 $\varepsilon$, 对 $x$ 的\emph{任意}邻域 $N[x; \delta]$, 都有 $c[N[x; \delta]] = \{ c \} \subset N[c; \varepsilon] = N[c[x]; \varepsilon]$.
\end{example}

\begin{example}
    $\iota$: $\mathbb{R} \to \mathbb{R}$ 是连续函数.

    任取一点 $x$. 注意到, 对任意集 $T \subset \mathbb{R}$, $\iota[T] = T$. 所以, 任取正数 $\varepsilon$, 取 $x$ 的 $\varepsilon$ 邻域 $N[x; \varepsilon]$, 即得 $\iota[N[x; \varepsilon]] = N[x; \varepsilon] = N[\iota[x]; \varepsilon] \subset N[\iota[x]; \varepsilon]$.
\end{example}

所以, 我们又有下面的结论; 还是老样子, 请您迅速地给出一个论证.

\begin{theorem}
    每一个形如
    \begin{align*}
        \frac{b_0 + b_1 \iota + \dots + b_n \iota^n}{a_0 + a_1 \iota + \dots + a_m \iota^m}
    \end{align*}
    (其中 $m$, $n$ 为非负整数, 且 $a_0$, $a_1$, $\dots$, $a_m$ 是不全为零的实数, $b_0$, $b_1$, $\dots$, $b_n$ 是实数) 的函数都是其定义域上的连续函数.
\end{theorem}

为后面的需要, 我们考虑严单调函数与连续函数的关系.

\begin{definition}
    设 $f$ 是 $A$ 上的函数. 若任取 $A$ 的相异二元 $x$, $y$, 都有 $(x - y)(f[x] - f[y]) \geq 0$, 则说 $f$ \emph{增} (也说 $f$ 是\emph{增函数}); 若任取 $A$ 的相异二元 $x$, $y$, 都有 $(x - y)(f[x] - f[y]) > 0$, 则说 $f$ \emph{严增} (也说 $f$ 是\emph{严增函数}).

    若 $-f$ 增, 则 $f$ \emph{减} (也说 $f$ 是\emph{减函数}); 若 $-f$ 严增, 则 $f$ \emph{严减} (也说 $f$ 是\emph{严减函数}).

    若 $f$ 增或 $f$ 减, 则 $f$ \emph{单调} (也说 $f$ 是\emph{单调函数}); 若 $f$ 严增或 $f$ 严减, 则 $f$ \emph{严单调} (也说 $f$ 是\emph{严单调函数}).
\end{definition}

简单地, 说 $f$ 增 (严增), 就是说对任意适合 $x \in A$, $y \in A$ 且 $x < y$ 的 $x$, $y$, 必有 $f[x] \leq f[y]$ ($f[x] < f[y]$); 说 $f$ 减 (严减), 就是说对任意适合 $x \in A$, $y \in A$ 且 $x < y$ 的 $x$, $y$, 必有 $f[x] \geq f[y]$ ($f[x] > f[y]$).

\begin{example}
    设 $a$ 为非零实数, $b$ 为实数. 则 $a\iota + b$ 是 $\mathbb{R}$ 上的严单调函数. 任取二个相异实数 $x$, $y$, 则
    \begin{align*}
             & (x - y)((a\iota + b)[x] - (a\iota + b)[y]) \\
        = {} & (x - y)((ax + b) - (ay + b))               \\
        = {} & a(x - y)^2.
    \end{align*}
    由此可知, $a > 0$ 时 $a\iota + b$ 严增, 而 $a < 0$ 时 $a\iota + b$ 严减.

    可以验证, $(a\iota)^{[-1]} = \frac{1}{a} \iota$, 且 $(\iota + b)^{[-1]} = \iota - b$. 所以
    \begin{align*}
        (a\iota + b)^{[-1]}
        = {} & ((\iota + b) \circ (a\iota))^{[-1]}      \\
        = {} & (a\iota)^{[-1]} \circ (\iota + b)^{[-1]} \\
        = {} & \frac{1}{a} \iota \circ (\iota - b)      \\
        = {} & \frac{1}{a} \iota - \frac{b}{a}.
    \end{align*}
    不难看出, $(a\iota + b)^{[-1]}$ 跟 $a\iota + b$ 同严增 (或严减).
\end{example}

\begin{theorem}
    设 $f$ 是 $A$ 上的严单调函数. 则 $f$ 是单函数.
\end{theorem}

\begin{proof}
    任取 $A$ 的相异二元 $x$, $y$. 则
    \begin{align*}
         & f[x] - f[y] = \frac{(x - y)(f[x] - f[y])}{x - y} \neq 0. \qedhere
    \end{align*}
\end{proof}

我们知道, 若 $f$: $A \to B$ 是单函数, 且 $f[A] = B$, 则 $f$ 有反函数 $f^{[-1]}$: $B \to A$. 特别地, 适当选取陪域后, 每个严单调函数都有反函数.

\begin{theorem}
    设 $f$: $A \to B$ 是满的严增 (严减) 函数. 则 $f^{[-1]}$: $B \to A$ 也是满的严增 (严减) 函数.
\end{theorem}

\begin{proof}
    依假定, $f$ 是双函数, 故有反函数 $f^{[-1]}$, 且 $f^{[-1]}$ 当然是既满亦单的.

    无妨设 $f$ 严增; $f$ 严减时, 您可类似地论证 $f^{[-1]}$ 亦严减.

    下设 $f$ 严增. 任取 $B$ 的相异二元 $x^{\prime}$, $y^{\prime}$. 令 $x = f^{[-1]} [x^{\prime}]$, $y = f^{[-1]} [y^{\prime}]$. 易见 $x \neq y$, 且 $x^{\prime} = f[x]$, $y^{\prime} = f[y]$. 因 $f$ 严增, 故
    \begin{align*}
        (f[x] - f[y])(x - y) = (x - y)(f[x] - f[y]) > 0.
    \end{align*}
    从而
    \begin{align*}
             & (x^{\prime} - y^{\prime})(f^{[-1]} [x^{\prime}] - f^{[-1]} [y^{\prime}]) \\
        = {} & (f[x] - f[y])(x - y) > 0. \qedhere
    \end{align*}
\end{proof}

下面的结论十分重要.

\begin{theorem}
    设 $I$ 为区间. 设 $f$: $I \to J$ 是满的严单调函数. 则 $f$ 是连续函数的一个必要与充分条件是: $J$ 是区间.
\end{theorem}

\begin{proof}
    无妨设 $f$ 严增.

    先看必要性. 设 $f$ 连续. 用反证法. 若 $J = f[I]$ 不是区间, 则存在 $J$ 的相异二元 $x^{\prime}$, $y^{\prime}$ 使 $x^{\prime} < y^{\prime}$ 且 $J \cap (x^{\prime}, y^{\prime})$ 为空集. 设 $f[x] = x^{\prime}$; 设 $f[y] = y^{\prime}$. 显然 $x < y$. 任取 $I$ 的大于 $x$ 的元 $u$. 因为 $f$ 严增, 故 $f[u] > f[x] = x^{\prime}$; 因为 $f[u] \notin (x^{\prime}, y^{\prime})$, 故 $f[u] \geq y^{\prime}$. 所以, $f[u] - f[x] \geq y^{\prime} - x^{\prime}$. 因为 $f$ 于 $x$ 连续, 故存在正数 $\delta$ 使 $|t - x| < \delta$ 且 $t \in I$ 时,
    \begin{align*}
        |f[t] - f[x]| < y^{\prime} - x^{\prime}.
    \end{align*}
    因为 $I$ 是区间, 且 $x$, $y \in I$, 故 $[x, y] \subset I$; 特别地, 这说明, 存在适合条件 $0 < v - x < \delta$ 且 $v \in I$ 的数 $v$. 故
    \begin{align*}
        y^{\prime} - x^{\prime} > |f[v] - f[x]| = f[v] - f[x] \geq y^{\prime} - x^{\prime}.
    \end{align*}
    这是矛盾.

    再看充分性. 设 $J$ 是区间. 任取 $x \in I$. 我们证明 $f$ 于 $x$ 连续.

    先设 $x$ 是 $I$ 的左端点. 那么, 对每个 $w > x$, $w \in I$, 都有 $f[w] > f[x]$. 于是, $f[x]$ 也是 $J$ 的左端点. 任取正数 $\varepsilon$, 必存在正数 $e < \varepsilon$ 使 $f[x] + e \in J$. 令 $q = f^{[-1]} [f[x] + e]$, 则必有 $x < q$. 从而, 当 $x \leq t < q$ 时, $f[x] \leq f[t] < f[x] + e$. 这么看来, 存在正数 $\delta = q - x$, 当 $t \in N[x; \delta] \cap I = [x, q)$ 时, 必有
    \begin{align*}
        |f[t] - f[x]| = f[t] - f[x] < e < \varepsilon.
    \end{align*}
    类似地, 当 $x$ 是 $I$ 的右端点时, 您也可用完全类似的套路论证 $f$ 于 $x$ 连续.

    现设 $x$ 既不是 $I$ 的左端点, 也不是 $I$ 的右端点. 这样, 存在正数 $d$ 使 $x - d$, $x + d \in I$. 所以 $f[x - d]$, $f[x + d] \in J$, 且 $f[x - d] < f[x] < f[x + d]$. 故 $f[x]$ 也不是 $J$ 的端点. 所以, 任取正数 $\varepsilon$, 必存在正数 $e < \varepsilon$ 使 $f[x] - e$, $f[x] + e \in J$. 令 $p = f^{[-1]} [f[x] - e]$, $q = f^{[-1]} [f[x] + e]$. 那么 $p < x < q$. 取 $\delta$ 为 $x - p$ 与 $q - x$ 的较小者. 则 $|t - x| < \delta$ 且 $t \in I$ 时,
    \begin{align*}
        p \leq x - \delta < t < x + \delta \leq q,
    \end{align*}
    从而
    \begin{align*}
        f[x] - e = f[p] \leq f[x - \delta] < f[t] < f[x + \delta] \leq f[q] = f[x] + e,
    \end{align*}
    即
    \begin{align*}
         & {|f[t] - f[x]| \leq e < \varepsilon.} \qedhere
    \end{align*}
\end{proof}

由此, 我们可以得到如下关于反函数的定理.

\begin{theorem}
    设 $I$ 为区间. 设 $f$: $I \to J$ 是满的严单调函数. 设 $f$ 是连续函数. 则 $f^{[-1]}$: $J \to I$ 也是连续函数.
\end{theorem}

\begin{proof}
    设 $f$: $I \to J$ 是满的严单调函数. 因为 $I$ 是区间, 且 $f$ 是连续函数, 故 $J = f[I]$ 也是区间. 因为 $f^{[-1]}$ 也是满的严单调函数, 且 $I = f^{[-1]} [J]$ 是区间, 故 $f^{[-1]}$ 是连续函数.
\end{proof}

最后, 我不加论证地给出一些常见的连续函数. 您可以在任意一本分析教材里找到论证.
\begin{itemize}
    \item $\mathrm{exp}$: $\mathbb{R} \to (0, +\infty)$ 是满的严增函数, 也是连续函数. 这样, 其反函数 $\mathrm{ln}$: $(0, +\infty) \to \mathbb{R}$ 也是满的严增函数 (当然也连续).
    \item $\mathrm{sin}$: $\mathbb{R} \to [-1, 1]$ 是满的连续函数. 记 $\mathrm{sin}$ 在 $[-\frac{2\pi}{4}, \frac{2\pi}{4}]$ 上的限制为 $s$. 则 $s$ 是满的严增函数. 故其反函数 $\mathrm{arcsin}$: $[-1, 1] \to [-\frac{2\pi}{4}, \frac{2\pi}{4}]$ 也是满的严增函数 (当然也连续).
    \item $\mathrm{tan}$: $\{ x \mid \mathrm{cos}[x] \neq 0 \} \to \mathbb{R}$ 是满的连续函数. 记 $\mathrm{tan}$ 在 $(-\frac{2\pi}{4}, \frac{2\pi}{4})$ 上的限制为 $t$. 则 $t$ 是满的严增函数. 故其反函数 $\mathrm{arctan}$: $\mathbb{R} \to (-\frac{2\pi}{4}, \frac{2\pi}{4})$ 也是满的严增函数 (当然也连续).
    \item 设 $n$ 是正偶数. 则 $\iota^n$: $[0, +\infty) \to [0, +\infty)$ 是满的严增函数, 也是连续函数. 这样, 其反函数 $\iota^{1/n}$: $[0, +\infty) \to [0, +\infty)$ 也是满的严增函数 (当然也连续). 一般写 $\iota^{1/n} [x]$ 为 $\sqrt[n]{x}$ 或 $x^{1/n}$; 一般写 $\sqrt[2]{x}$ 为 $\sqrt{x}$; 一般写 $\iota^{1/2}$ 为 $\mathrm{sqrt}$.
    \item 设 $n$ 是正奇数. 则 $\iota^n$: $\mathbb{R} \to \mathbb{R}$ 是满的严增函数, 也是连续函数. 这样, 其反函数 $\iota^{1/n}$: $\mathbb{R} \to \mathbb{R}$ 也是满的严增函数 (当然也连续). 一般写 $\iota^{1/n} [x]$ 为 $\sqrt[n]{x}$ 或 $x^{1/n}$; 一般写 $\sqrt[1]{x}$ 为 $x$; 一般写 $\iota^{1/1}$ 为 $\iota$.
    \item $\mathrm{abs}$: $\mathbb{R} \to [0, +\infty)$ 是连续函数.
\end{itemize}

\section{连续函数的积分}

我简单地介绍一下连续函数的积分.

传统地, 一本算学分析 (或高等算学) 教材会先讲导数 (微分学), 再讲如何反求导 (不定积分), 然后才是积分 (定积分). 不过, 为论证连续函数一定有 ``反导'', 就需要 (连续函数的) 积分的知识. 所以, 逻辑地, 我选择先说连续函数的积分论. 这里, 我就不加证明地列举本书用到的关于积分的结论. 如果您对这些结论的论证感兴趣, 您可以参考算学家梅加强的《数学分析》.

\begin{theorem}
    设 $f$ 是区间 $I$ 上的连续函数. 设 $a$, $b \in I$, 且 $a < b$. 作数列
    \begin{align*}
        \text{$A$:} \quad
        \mathbb{N} & \to \mathbb{R},                                                                                                        \\
        n          & \mapsto \begin{cases}
                                 0,                                                                                             & n = 0;    \\
                                 {\displaystyle \sum_{i = 0}^{n - 1} {\frac{b - a}{n} f\bigg[ a + \frac{i}{n} (b - a) \bigg]}}, & n \geq 1.
                             \end{cases}
    \end{align*}
    则存在唯一的实数 $\alpha$, 使对任意正数 $\varepsilon$, 存在非负整数 $N$, 当 $n > N$ 时, 有 $|A[n] - \alpha| < \varepsilon$.

    我们称 $\alpha$ 为 $f$ 在 $[a, b]$ 上的\emph{积分}, 并记 $\alpha$ 为
    \begin{align*}
        \int_{a}^{b} {f}.
    \end{align*}
\end{theorem}

\begin{remark}
    传统地, 我们记上面的 $\alpha$ 为
    \begin{align*}
        \int_{a}^{b} {f(x) \,\mathrm{d}x}.
    \end{align*}
    我并没有说老记号不好; 只不过, 我会展现一种不需要 ``变量 $x$'' 的积分法 (如何无变量地计算积分), 故我在此使用新记号. 本注的目的是告诉您传统的记号跟本书的记号的区别.
\end{remark}

\begin{example}
    设 $k$ 为常函数. 则不难看出,
    \begin{align*}
        \int_{a}^{b} {k} = (b - a)k.
    \end{align*}
\end{example}

现在, 我们看积分的一些基本性质. 不过, 我们先作一个约定.

\begin{definition}
    设 $f$ 是区间 $I$ 上的连续函数. 设 $a$, $b \in I$, 且 $a < b$. 规定
    \begin{align*}
        \int_{a}^{a} {f} = 0, \qquad \int_{b}^{a} {f} = -\int_{a}^{b} {f}.
    \end{align*}
\end{definition}

\begin{restatable}{theorem}{LinearityOfInegrals}
    设 $f$, $g$ 是区间 $I$ 上的连续函数. 设 $a$, $b \in I$. 设 $k \in \mathbb{R}$. 则
    \begin{align*}
        \int_{a}^{b} {(f + g)} & = \int_{a}^{b} {f} + \int_{a}^{b} {g}, \\
        \int_{a}^{b} {kf}      & = k \int_{a}^{b} {f}.
    \end{align*}
\end{restatable}

\begin{definition}
    设 $\ast$ 是文字 $>$, $<$, $\geq$, $\leq$ 的任意一个. 设 $A$ 是 $\mathbb{R}$ 的子集. 设 $f$, $g$ 都是 $A$ 上的函数. 若对任意 $t \in A$, 都有 $f[t] \ast g[t]$, 则我们写 $f \ast g$.
\end{definition}

\begin{remark}
    注意, 我们没说 $\ast$ 可以是文字 $\neq$; 这是因为我们已经规定, $f \neq g$ 是 $f = g$ 的\emph{否定}.
\end{remark}

\begin{theorem}
    设 $f$, $g$ 是区间 $I$ 上的连续函数. 设 $a$, $b \in I$, 且 $a < b$. 设 $f \leq g$. 则
    \begin{align*}
        \int_{a}^{b} {f} \leq \int_{a}^{b} {g}.
    \end{align*}
\end{theorem}

\begin{definition}
    我们可简单地写 $\mathrm{abs} \circ f$ 为 $|f|$; 类似地, 我们也可简单地写 $\mathrm{sqrt} \circ f$ 为 $\sqrt{f}$.
\end{definition}

\begin{example}
    设 $f$ 是区间 $I$ 上的连续函数. 设 $a$, $b \in I$, 且 $a < b$. 不难验证 $-|f| \leq f \leq |f|$. 故
    \begin{align*}
        \int_{a}^{b} {(-|f|)} \leq \int_{a}^{b} {f} \leq \int_{a}^{b} {|f|},
    \end{align*}
    也就是
    \begin{align*}
        \Bigg| \int_{a}^{b} {f} \Bigg| \leq \int_{a}^{b} {|f|}.
    \end{align*}
    不难看出, 对任意 $a$, $b \in I$,
    \begin{align*}
        \Bigg| \int_{a}^{b} {f} \Bigg| \leq \Bigg| \int_{a}^{b} {|f|} \Bigg|.
    \end{align*}
\end{example}

\begin{restatable}{theorem}{AdditivityOfIntervalsOfIntegrals}
    设 $f$ 是区间 $I$ 上的连续函数. 设 $a$, $b$, $c \in I$. 则
    \begin{align*}
        \int_{a}^{c} {f} = \int_{a}^{b} {f} + \int_{b}^{c} {f}.
    \end{align*}
\end{restatable}

下面的结论很重要; 之后会用到.

\begin{theorem} \label{theorem:newton-leibniz-prerequisite}
    设 $f$ 是区间 $I$ 上的连续函数. 设 $x \in I$. 作函数
    \begin{align*}
        \text{$F$:} \quad
        I & \to \mathbb{R},                                                       \\
        t & \mapsto \begin{cases}
                        f[x],                                             & t = x;    \\
                        {\displaystyle \frac{1}{t - x} \int_{x}^{t} {f}}, & t \neq x.
                    \end{cases}
    \end{align*}
    则 $F$ 于 $x$ 连续.
\end{theorem}

\begin{proof}
    任取正数 $\varepsilon$. 我们的目标是, 找到正数 $\delta$, 使 $|t - x| < \delta$ 且 $t \in I$ 时, $|F[t] - F[x]| < \varepsilon$. 这相当于: 找到正数 $\delta$, 使 $0 < |t - x| < \delta$ 且 $t \in I$ 时,
    \begin{align*}
        \Bigg| \frac{1}{t - x} \int_{x}^{t} {f} - f[x] \Bigg| < \varepsilon.
    \end{align*}
    这不难. 首先, 注意到
    \begin{align*}
        f[x](t - x) = \int_{x}^{t} {f[x]},
    \end{align*}
    故
    \begin{align*}
        \frac{1}{t - x} \int_{x}^{t} {f} - f[x] = \frac{1}{t - x} \int_{x}^{t} {(f - f[x])}.
    \end{align*}
    取低于 $\varepsilon$ 的正数 $e$. 因为 $f$ 于 $x$ 连续, 故存在正数 $d$, 使 $|t - x| < d$ 且 $t \in I$ 时,
    \begin{align*}
        |f[t] - f[x]| < e.
    \end{align*}
    所以
    \begin{align*}
        \Bigg| \int_{x}^{t} {(f - f[x])} \Bigg| \leq \Bigg| \int_{x}^{t} {|f - f[x]|} \Bigg| \leq \Bigg| \int_{x}^{t} {e} \Bigg| = |t - x|e.
    \end{align*}
    也就是说, $0 < |t - x| < d$ 且 $t \in I$ 时,
    \begin{align*}
        {\Bigg| \frac{1}{t - x} \int_{x}^{t} {f} - f[x] \Bigg|}
        = {}    & \frac{1}{|t - x|} \Bigg| \int_{x}^{t} {(f - f[x])} \Bigg| \\
        \leq {} & \frac{1}{|t - x|} \cdot |t - x|e                          \\
        = {}    & e < \varepsilon. \qedhere
    \end{align*}
\end{proof}
